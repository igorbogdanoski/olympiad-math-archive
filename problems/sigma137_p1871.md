---
problem_id: sigma137_p1871
title: Прости броеви и квадрати
grade: 10
difficulty: 5
tags:
  - primes
  - squares
  - parity
source: Sigma 137, Problem 1871
type: logic_puzzle
---

# Текст на задачата
Определи ги сите по парови различни прости броеви $p, q, r$ и $s$ такви што нивниот збир е прост број, а $p^2 + qs$ и $p^2 + qr$ се квадрати на природни броеви.

# Решение
**Чекор 1: Одредување кој број е 2**
Збирот $p+q+r+s$ е прост број, па мора да е непарен. Затоа, точно еден од собироците е 2 (бидејќи сите други прости броеви се непарни).
Да претпоставиме дека $q=2$. Тогаш $p^2 + 2s = a^2$.
$$ 2s = a^2 - p^2 = (a-p)(a+p) $$
Бидејќи $p$ е непарен (зашто $q=2$), $a$ мора да е непарен (за разликата да е парна). Тогаш $a-p$ и $a+p$ се парни броеви.
Нека $a-p=2k$ и $a+p=2m$. Тогаш $2s = 4km \implies s = 2km$.
Бидејќи $s$ е прост, ова е можно само ако $k=1, m=1$ (тогаш $s=2$, но $s \neq q$) или $s=2$ (пак исто). Значи $q \neq 2$. Аналогно $s \neq 2$ и $r \neq 2$.
**Заклучок:** Мора **$p=2$**.

**Чекор 2: Анализа на $q, r, s$**
Бидејќи $p=2$, равенките се:
1) $4 + qs = a^2 \implies qs = (a-2)(a+2)$
2) $4 + qr = b^2 \implies qr = (b-2)(b+2)$

Разгледуваме равенка (1). Бидејќи $q, s$ се прости, единствени можни фактори на $qs$ се $(1, qs)$ и $(q, s)$.
- Ако $a-2=1$, тогаш $a=3, qs=5$. Невозможно за различни прости броеви.
- Значи мора $a-2=q$ и $a+2=s$ (без губење на општост нека $q<s$).
Од ова следи:
$$ s - q = (a+2) - (a-2) = 4 \implies s = q + 4 $$

Аналогно од равенка (2), мора $b-2=q$ и $b+2=r$ (ако $q<r$) или обратно.
Ако $r = q+4$, тогаш $r=s$, што не е дозволено (броевите се различни).
Затоа мора $q$ да биде поголемиот фактор во втората равенка, т.е. $r = q-4$ (или $q = r+4$).

**Чекор 3: Деливост со 3**
Имаме три прости броја: $r, q, s$ кои се поврзани како:
$$ r = q-4, \quad q, \quad s = q+4 $$
Ова се броеви од облик $x, x+4, x+8$. Да ги разгледаме нивните остатоци при делење со 3:
- Ако $x \equiv 0 \pmod 3$, тогаш $x=3$ (бидејќи е прост).
- Ако $x \equiv 1 \pmod 3$, тогаш $x+8 \equiv 9 \equiv 0 \pmod 3$ (сложен).
- Ако $x \equiv 2 \pmod 3$, тогаш $x+4 \equiv 6 \equiv 0 \pmod 3$ (сложен).

Значи, еден од броевите мора да биде 3.
1. Ако $r=3$: $q=7, s=11$. Сите се прости. Ова е решение.
2. Ако $q=3$: $r=-1$ (не).
3. Ако $s=3$: $q=-1$ (не).

**Чекор 4: Проверка**
Најдовме $p=2, r=3, q=7, s=11$.
- Збир: $2+3+7+11 = 23$ (прост број).
- $p^2+qs = 4 + 77 = 81 = 9^2$.
- $p^2+qr = 4 + 21 = 25 = 5^2$.
Сите услови се исполнети.

**Конечно решение:** Броевите се $\{p, q, r, s\} = \{2, 7, 3, 11\}$.

# Pedagogical Notes
1. **Елиминација:** Ова е моќна техника. Наместо да погодувате кој е 2, докажете кој *не може* да биде 2.
2. **Прости тројки:** Мотивот „три прости броја со фиксна разлика“ секогаш се решава со модуларна аритметика по модул 3.
3. **Факторизација:** Преминот од $qs = a^2-4$ во $qs=(a-2)(a+2)$ е клучен.