---
interface Props {
	title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="mk" class="scroll-smooth">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content="Олимписка Математика: Архива на задачи со визуелизации и педагошки објаснувања." />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
		
		<!-- KaTeX -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" crossorigin="anonymous">
		
		<!-- Google Fonts -->
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
		
		<script is:inline>
			// Dark mode logic
			const theme = (() => {
				if (typeof localStorage !== 'undefined' && localStorage.getItem('theme')) {
					return localStorage.getItem('theme');
				}
				if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
					return 'dark';
				}
				return 'light';
			})();
		
			if (theme === 'light') {
				document.documentElement.classList.remove('dark');
			} else {
				document.documentElement.classList.add('dark');
			}
			window.localStorage.setItem('theme', theme);
		</script>
	</head>
	<body class="bg-white dark:bg-slate-950 text-slate-900 dark:text-slate-100 font-sans transition-colors duration-300">
		<nav class="bg-white/80 dark:bg-slate-950/80 backdrop-blur-md border-b border-slate-200 dark:border-slate-800 sticky top-0 z-50">
			<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
				<div class="flex justify-between h-16 items-center">
					<div class="flex items-center gap-3">
						<a href="/" class="flex items-center gap-2 group">
							<div class="w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-blue-500/20 group-hover:scale-105 transition-transform">
								<span class="text-xl font-bold">∑</span>
							</div>
							<div class="flex flex-col">
								<span class="font-extrabold text-lg leading-none tracking-tight">МатАрхива</span>
								<span class="text-[10px] text-slate-500 dark:text-slate-400 font-bold uppercase tracking-widest">Geo-Mentor</span>
							</div>
						</a>
					</div>
					
					<div class="hidden md:flex items-center gap-1">
						<a href="/" class="px-4 py-2 rounded-xl text-sm font-bold hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors">Архива</a>
						<a href="/teachers" class="px-4 py-2 rounded-xl text-sm font-bold bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400">Наставници</a>
						<a href="#" class="px-4 py-2 rounded-xl text-sm font-bold hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors">Теореми</a>
						
						<div class="w-px h-6 bg-slate-200 dark:bg-slate-800 mx-2"></div>
						
						<button id="theme-toggle" class="p-2 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors" aria-label="Toggle dark mode">
							<svg id="theme-toggle-dark-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg>
							<svg id="theme-toggle-light-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 110 2 1 1 0 010-2zm-7-4a1 1 0 110-2h1a1 1 0 110 2H3zm.464-4.95a1 1 0 111.414-1.414l.707.707a1 1 0 01-1.414 1.414l-.707-.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 100 2h1z" fill-rule="evenodd" clip-rule="evenodd"></path></svg>
						</button>
					</div>
				</div>
			</div>
		</nav>

		<main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 min-h-[calc(100vh-160px)]">
			<slot />
		</main>

		<footer class="bg-white dark:bg-slate-950 border-t border-slate-200 dark:border-slate-800 py-12">
			<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
				<div class="grid grid-cols-1 md:grid-cols-3 gap-10">
					<div>
						<div class="flex items-center gap-2 mb-4">
							<div class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold text-sm italic">M</div>
							<span class="font-bold text-lg italic">МатАрхива</span>
						</div>
						<p class="text-slate-500 dark:text-slate-400 text-sm leading-relaxed">
							Платформа за олимписка математика посветена на квалитетни визуелизации и детални решенија за сите ученици.
						</p>
					</div>
					<div>
						<h3 class="font-bold mb-4">Брзи линкови</h3>
						<ul class="space-y-2 text-sm text-slate-500 dark:text-slate-400">
							<li><a href="/" class="hover:text-blue-600 transition-colors">Архива на задачи</a></li>
							<li><a href="/teachers" class="hover:text-blue-600 transition-colors">За наставници</a></li>
							<li><a href="#" class="hover:text-blue-600 transition-colors">Работни листови</a></li>
						</ul>
					</div>
					<div>
						<h3 class="font-bold mb-4">Контакт</h3>
						<p class="text-sm text-slate-500 dark:text-slate-400">
							Имате предлог или задача? Контактирајте го тимот на Geo-Mentor преку нашето репозиториум на GitHub.
						</p>
					</div>
				</div>
				<div class="mt-12 pt-8 border-t border-slate-100 dark:border-slate-900 flex flex-col md:flex-row justify-between items-center gap-4 text-xs text-slate-400 uppercase tracking-widest font-bold">
					<span>&copy; {new Date().getFullYear()} Geo-Mentor Project</span>
					<div class="flex gap-6">
						<a href="#" class="hover:text-slate-600">Privacy</a>
						<a href="#" class="hover:text-slate-600">Terms</a>
						<a href="https://github.com" class="hover:text-slate-600">GitHub</a>
					</div>
				</div>
			</div>
		</footer>

		<script is:inline>
			const themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
			const themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');
		
			if (localStorage.getItem('theme') === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
				themeToggleLightIcon.classList.remove('hidden');
			} else {
				themeToggleDarkIcon.classList.remove('hidden');
			}
		
			const themeToggleBtn = document.getElementById('theme-toggle');
		
			themeToggleBtn.addEventListener('click', function() {
				themeToggleDarkIcon.classList.toggle('hidden');
				themeToggleLightIcon.classList.toggle('hidden');
		
				if (localStorage.getItem('theme')) {
					if (localStorage.getItem('theme') === 'light') {
						document.documentElement.classList.add('dark');
						localStorage.setItem('theme', 'dark');
					} else {
						document.documentElement.classList.remove('dark');
						localStorage.setItem('theme', 'light');
					}
				} else {
					if (document.documentElement.classList.contains('dark')) {
						document.documentElement.classList.remove('dark');
						localStorage.setItem('theme', 'light');
					} else {
						document.documentElement.classList.add('dark');
						localStorage.setItem('theme', 'dark');
					}
				}
			});
		</script>
	</body>
</html>
